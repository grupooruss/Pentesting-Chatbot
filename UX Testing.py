import requests
import re

def test_comprehensive_ux(base_url, chat_endpoint):
    # Interacciones para probar la UX
    interactions = [
        "",  # Entrada vacía
        "?????",  # Caracteres especiales
        "help",  # Comando de ayuda común
        "exit",  # Intento de salir o cerrar la sesión
        "login",  # Intento de iniciar sesión
        "English please",  # Cambio de idioma
        "reset password",  # Recuperación de cuenta o contraseña
    ]
    
    for interaction in interactions:
        # Enviar el mensaje al endpoint del chatbot
        response = requests.post(base_url + chat_endpoint, data={'message': interaction})
        content = response.content.decode('utf-8').lower()
        
        # Buscar indicios de una mala UX
        ux_issues_keywords = [
            "error", "exception", "invalid", "null", "undefined", 
            "sorry, i don’t understand", "oops, something went wrong",
            "please try again"
        ]
        
        for keyword in ux_issues_keywords:
            if re.search(keyword, content):
                print(f"Potential UX issue detected for query: '{interaction}'")

# Ejemplo de uso
# base_url = "http://example.com"
# chat_endpoint = "/api/chat"
# test_comprehensive_ux(base_url, chat_endpoint)

import requests
import time

def test_rate_limiting(base_url, chat_endpoint, threshold=100):
    start_time = time.time()
    
    for i in range(threshold):
        response = requests.post(base_url + chat_endpoint, data={'message': 'test'})
        
        if response.status_code == 429:
            print("Rate limiting detected. Test stopped.")
            return
        
    elapsed_time = time.time() - start_time
    print(f"Sent {threshold} requests in {elapsed_time} seconds without rate limiting.")

# Ejemplo de uso
# base_url = "http://example.com"
# chat_endpoint = "/api/chat"
# test_rate_limiting(base_url, chat_endpoint)
